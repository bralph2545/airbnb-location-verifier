{% extends "layout.html" %}

{% block content %}
<style>
    .hero-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
        overflow: hidden;
    }
    
    .hero-gradient::before {
        content: "";
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        animation: float 20s ease-in-out infinite;
    }
    
    @keyframes float {
        0%, 100% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(-10%, 10%) rotate(180deg); }
    }
    
    .feature-card {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        height: 100%;
        transition: all 0.3s ease;
        border: 1px solid rgba(0,0,0,0.06);
        position: relative;
        overflow: hidden;
    }
    
    .feature-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2);
        transform: scaleX(0);
        transition: transform 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0,0,0,0.1);
    }
    
    .feature-card:hover::before {
        transform: scaleX(1);
    }
    
    .feature-icon {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
    }
    
    .feature-icon-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .feature-icon-2 { background: linear-gradient(135deg, #00b09b 0%, #96c93d 100%); }
    .feature-icon-3 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    .feature-icon-4 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
    
    .stats-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        border: 1px solid rgba(0,0,0,0.06);
        transition: all 0.3s ease;
    }
    
    .stats-card:hover {
        transform: scale(1.05);
        box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: 700;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 0.25rem;
    }
    
    .form-modern {
        background: white;
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }
    
    .input-modern {
        font-size: 1.1rem;
        padding: 1rem 1.25rem;
        border-radius: 12px;
        border: 2px solid #e2e8f0;
        transition: all 0.3s ease;
    }
    
    .input-modern:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    }
    
    .btn-gradient {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 1rem 2.5rem;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }
    
    .btn-gradient::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transition: left 0.5s ease;
    }
    
    .btn-gradient:hover::before {
        left: 100%;
    }
    
    .btn-gradient:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        color: white;
    }
    
    .analysis-mode-btn {
        padding: 1rem;
        border-radius: 12px;
        border: 2px solid #e2e8f0;
        background: white;
        transition: all 0.3s ease;
        cursor: pointer;
    }
    
    .analysis-mode-btn:hover {
        border-color: #667eea;
        background: rgba(102, 126, 234, 0.05);
    }
    
    .analysis-mode-btn.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: transparent;
        color: white;
    }
    
    .step-card {
        text-align: center;
        padding: 2rem 1rem;
        position: relative;
    }
    
    .step-card::after {
        content: "";
        position: absolute;
        top: 50%;
        right: -50%;
        width: 100%;
        height: 2px;
        background: linear-gradient(90deg, #667eea, transparent);
        display: none;
    }
    
    @media (min-width: 768px) {
        .step-card:not(:last-child)::after {
            display: block;
        }
    }
    
    .step-number {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.25rem;
        margin: 0 auto 1rem;
    }
    
    .badge-modern {
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-weight: 600;
        display: inline-block;
        margin: 0.25rem;
    }
    
    .badge-ai { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
    .badge-fast { background: linear-gradient(135deg, #00b09b 0%, #96c93d 100%); color: white; }
    .badge-accurate { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; }
</style>

<!-- Hero Section with Gradient -->
<section class="hero-gradient text-white py-5">
    <div class="container position-relative">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <span class="badge badge-modern mb-3" style="background: rgba(255,255,255,0.2); color: white;">
                    <i class="fas fa-shield-alt me-1"></i> AI-Powered Verification
                </span>
                <h1 class="display-4 fw-bold mb-4">Verify Airbnb Locations <span style="opacity: 0.9;">Before You Book</span></h1>
                <p class="lead mb-4" style="opacity: 0.95;">
                    Don't guess where you'll stay. Our advanced AI technology reveals the exact address of any Airbnb listing, giving you complete transparency and peace of mind.
                </p>
                <div class="d-flex flex-wrap gap-3 mb-4">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-check-circle me-2"></i>
                        <span>95% Accuracy Rate</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fas fa-bolt me-2"></i>
                        <span>5-10 Second Results</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fas fa-brain me-2"></i>
                        <span>Multi-Signal AI</span>
                    </div>
                </div>
                <a href="#verify-form" class="btn btn-light btn-lg px-4 py-3" style="border-radius: 12px; font-weight: 600;">
                    Start Verifying <i class="fas fa-arrow-right ms-2"></i>
                </a>
            </div>
            <div class="col-lg-6">
                <div class="text-center">
                    <div style="background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 20px; padding: 2rem;">
                        <i class="fas fa-map-marked-alt" style="font-size: 8rem; opacity: 0.9;"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="py-4" style="background: #f8f9fa; border-bottom: 1px solid rgba(0,0,0,0.06);">
    <div class="container">
        <div class="row g-3">
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <div class="stat-number">95%</div>
                    <div class="text-muted">Accuracy Rate</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <div class="stat-number">10s</div>
                    <div class="text-muted">Avg. Processing</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <div class="stat-number">50K+</div>
                    <div class="text-muted">Verifications</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stats-card">
                    <div class="stat-number">4.9★</div>
                    <div class="text-muted">User Rating</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Main Content -->
<div class="container py-5">
    <!-- Verification Form Section -->
    <div class="row mb-5" id="verify-form">
        <div class="col-lg-8 mx-auto">
            <div class="form-modern">
                <div class="text-center mb-4">
                    <h2 class="h3 fw-bold mb-2">Start Your Verification</h2>
                    <p class="text-muted">Enter any Airbnb listing URL to reveal its exact location</p>
                </div>
                
                <form id="url-form" method="post" action="{{ url_for('extract') }}">
                    <!-- URL Input -->
                    <div class="mb-4">
                        <label for="airbnb-url" class="form-label fw-semibold mb-2">
                            <i class="fas fa-link text-primary me-2"></i>Airbnb Listing URL
                        </label>
                        <input type="url" 
                               class="form-control input-modern" 
                               id="airbnb-url" 
                               name="airbnb_url" 
                               placeholder="https://www.airbnb.com/rooms/12345678" 
                               required>
                        <div id="url-feedback" class="form-text text-danger mt-2"></div>
                        <div class="form-text mt-2">
                            <i class="fas fa-info-circle text-muted me-1"></i>
                            Paste the full URL from the Airbnb listing page
                        </div>
                    </div>
                    
                    <!-- Analysis Mode Selection -->
                    <div class="mb-4">
                        <label class="form-label fw-semibold mb-3">
                            <i class="fas fa-sliders-h text-primary me-2"></i>Choose Analysis Mode
                        </label>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <input type="radio" class="btn-check" name="analysis_mode" id="quick-mode" value="quick" checked>
                                <label class="analysis-mode-btn d-block h-100" for="quick-mode">
                                    <div class="text-center">
                                        <i class="fas fa-bolt fs-3 mb-2 text-warning"></i>
                                        <h5 class="mb-1">Quick Verify</h5>
                                        <small class="text-muted">5-10 seconds • High accuracy</small>
                                        <div class="mt-2">
                                            <span class="badge bg-success">Recommended</span>
                                        </div>
                                    </div>
                                </label>
                            </div>
                            <div class="col-md-6">
                                <input type="radio" class="btn-check" name="analysis_mode" id="thorough-mode" value="thorough">
                                <label class="analysis-mode-btn d-block h-100" for="thorough-mode">
                                    <div class="text-center">
                                        <i class="fas fa-microscope fs-3 mb-2 text-primary"></i>
                                        <h5 class="mb-1">Deep Analysis</h5>
                                        <small class="text-muted">30-45 seconds • Maximum detail</small>
                                        <div class="mt-2">
                                            <span class="badge bg-info">Pro</span>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <button type="submit" id="submit-btn" class="btn btn-gradient w-100">
                        <i class="fas fa-search-location me-2"></i>
                        Verify Location Now
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Features Section -->
    <section class="mb-5">
        <div class="text-center mb-5">
            <h2 class="h3 fw-bold mb-3">Powered by Advanced AI Technology</h2>
            <p class="text-muted lead">Multiple verification signals ensure maximum accuracy</p>
        </div>
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon feature-icon-1 text-white">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h4 class="h5 fw-bold mb-3">Multi-Signal Analysis</h4>
                    <p class="text-muted">Combines OCR, NLP, and AI vision to extract and verify location data from multiple sources</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon feature-icon-2 text-white">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h4 class="h5 fw-bold mb-3">Confidence Scoring</h4>
                    <p class="text-muted">Get a clear confidence score showing how certain we are about the verified address</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon feature-icon-3 text-white">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <h4 class="h5 fw-bold mb-3">Dual Speed Modes</h4>
                    <p class="text-muted">Choose between quick verification or deep analysis based on your needs</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="feature-card">
                    <div class="feature-icon feature-icon-4 text-white">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h4 class="h5 fw-bold mb-3">Real-Time Processing</h4>
                    <p class="text-muted">Get instant results with our optimized processing pipeline and caching system</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- How It Works Section -->
    <section class="mb-5">
        <div class="card border-0" style="background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); border-radius: 20px;">
            <div class="card-body p-5">
                <div class="text-center mb-5">
                    <h2 class="h3 fw-bold mb-3">How It Works</h2>
                    <p class="text-muted lead">Simple 4-step process to verify any listing</p>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h5 class="fw-semibold mb-2">Enter URL</h5>
                            <p class="text-muted small">Paste the Airbnb listing URL from your browser</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h5 class="fw-semibold mb-2">AI Analysis</h5>
                            <p class="text-muted small">Our AI analyzes images, text, and metadata</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h5 class="fw-semibold mb-2">Verification</h5>
                            <p class="text-muted small">Cross-reference with maps and street view data</p>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="step-card">
                            <div class="step-number">4</div>
                            <h5 class="fw-semibold mb-2">View Results</h5>
                            <p class="text-muted small">Get exact address with confidence score and map</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Why Use This Section -->
    <section class="mb-5">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <h2 class="h3 fw-bold mb-4">Why Verify Before Booking?</h2>
                <div class="mb-3">
                    <div class="d-flex mb-3">
                        <div class="flex-shrink-0">
                            <div class="rounded-circle bg-danger bg-opacity-10 p-2 me-3">
                                <i class="fas fa-map-marker-alt text-danger"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="fw-semibold mb-1">Avoid Location Surprises</h5>
                            <p class="text-muted mb-0">Know exactly where the property is located before committing</p>
                        </div>
                    </div>
                    <div class="d-flex mb-3">
                        <div class="flex-shrink-0">
                            <div class="rounded-circle bg-success bg-opacity-10 p-2 me-3">
                                <i class="fas fa-check-circle text-success"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="fw-semibold mb-1">Verify Neighborhood Claims</h5>
                            <p class="text-muted mb-0">Ensure the listing is actually in the area it claims to be</p>
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="flex-shrink-0">
                            <div class="rounded-circle bg-primary bg-opacity-10 p-2 me-3">
                                <i class="fas fa-route text-primary"></i>
                            </div>
                        </div>
                        <div>
                            <h5 class="fw-semibold mb-1">Plan Your Trip Better</h5>
                            <p class="text-muted mb-0">Calculate real distances to attractions and transport</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="text-center">
                    <div class="position-relative">
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 20px; padding: 3rem; color: white;">
                            <h3 class="h4 fw-bold mb-3">Start Verifying Today</h3>
                            <p class="mb-3">Join thousands of travelers making smarter booking decisions</p>
                            <div class="d-flex justify-content-center gap-3">
                                <span class="badge-modern badge-ai">AI-Powered</span>
                                <span class="badge-modern badge-fast">Fast</span>
                                <span class="badge-modern badge-accurate">Accurate</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
// Add smooth scrolling for anchor links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    });
});

// Update active state for analysis mode buttons
document.querySelectorAll('.btn-check').forEach(radio => {
    radio.addEventListener('change', function() {
        document.querySelectorAll('.analysis-mode-btn').forEach(label => {
            label.classList.remove('active');
        });
        if (this.checked) {
            document.querySelector(`label[for="${this.id}"]`).classList.add('active');
        }
    });
});

// Initialize the first mode as active
document.querySelector('label[for="quick-mode"]').classList.add('active');

// Add input validation feedback
const urlInput = document.getElementById('airbnb-url');
const urlFeedback = document.getElementById('url-feedback');

urlInput.addEventListener('input', function() {
    const value = this.value;
    if (value && !value.includes('airbnb.com/rooms/')) {
        urlFeedback.textContent = 'Please enter a valid Airbnb listing URL (should contain airbnb.com/rooms/)';
        this.classList.add('is-invalid');
        this.classList.remove('is-valid');
    } else if (value) {
        urlFeedback.textContent = '';
        this.classList.add('is-valid');
        this.classList.remove('is-invalid');
    } else {
        urlFeedback.textContent = '';
        this.classList.remove('is-valid', 'is-invalid');
    }
});
</script>
{% endblock %}